webpackJsonp([1],[,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(9),r=n(82),i=n(71),u=n.n(i);o.a.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Home",component:u.a}]})},function(t,e,n){function o(t){n(55)}var r=n(4)(n(23),n(81),o,null,null);t.exports=r.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),r=n(17),i=n.n(r),u=n(16);o.a.config.productionTip=!1,new o.a({el:"#app",router:u.a,template:"<App/>",components:{App:i.a}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"edge",props:{edge:Object},computed:{svgPath:function(){for(var t=this.edge,e=t.points[0],n="M"+e.x+" "+e.y,o=1;o<t.points.length;o++){var r=t.points[o];n+=" L"+r.x+" "+r.y}return n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"node",props:{node:Object}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(25),r=n.n(o),i=n(70),u=(n.n(i),n(73)),a=n.n(u),d=n(72),s=n.n(d),p=n(75),c=n.n(p),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},f={nodeWidth:200,nodeHeight:40,portRadius:10,graphPadding:20,dagre:{nodesep:20}};e.default={name:"PortGraph",props:{graphConfig:{type:Object,default:function(){return{nodes:[],edges:[],options:{}}}}},computed:{graphOptions:function(){var t=this.graphConfig.options;return n.i(i.merge)({},f,t)},layout:function(){var t=this,e=this.graphConfig,n=e.nodes,o=e.edges,i=this.graphOptions,u=new r.a.graphlib.Graph;u.setGraph(i.dagre),u.setDefaultEdgeLabel(function(){return{}});var a=0;return n.forEach(function(e){u.setNode(e.id,{label:e.id,width:i.nodeWidth,height:i.nodeHeight}),e.ports.forEach(function(n){if(!t.isPortConnected(n,e.id,o)){var r="dummy_"+a++;u.setNode(r,{width:4*i.portRadius,height:0}),"input"===n.type?u.setEdge(r,e.id):u.setEdge(e.id,r)}})}),o.forEach(function(t){u.setEdge(t.source.nodeId,t.target.nodeId)}),r.a.layout(u),u},nodes:function(){var t=this;return this.layout.nodes().map(function(e){return{x:t.nodeX(e),y:t.nodeY(e),width:t.layout.node(e).width,height:t.layout.node(e).height,label:e}}).filter(function(e){return!e.label||!t.isDummyLabel(e.label)})},edges:function(){var t=this;return this.layout.edges().map(function(e){return l({},t.layout.edge(e),{sourceNode:n.i(i.find)(t.nodes,{label:e.v}),targetNode:n.i(i.find)(t.nodes,{label:e.w})})}).filter(function(e){return e.sourceNode&&e.targetNode&&!t.isDummyLabel(e.sourceNode.label)&&!t.isDummyLabel(e.targetNode.label)})},ports:function(){var t=this,e=[];return this.layout.edges().forEach(function(o){var r=o.v,u=o.w;t.isDummyLabel(r)||e.push({point:t.layout.edge(o).points[0],type:"source"}),t.isDummyLabel(u)||e.push({point:n.i(i.last)(t.layout.edge(o).points),type:"target"})}),e},padding:function(){return this.graphOptions.graphPadding},portRadius:function(){return this.graphOptions.portRadius}},methods:{isPortConnected:function(t,e,o){return void 0!==n.i(i.find)(o,function(n){var o="input"===t.type?"target":"source";return n[o].nodeId===e&&n[o].portId===t.id})},isDummyLabel:function(t){return t&&t.indexOf&&t.indexOf("dummy_")>-1},nodeX:function(t){return this.layout.node(t).x-this.layout.node(t).width/2},nodeY:function(t){return this.layout.node(t).y-this.layout.node(t).height/2}},components:{Node:a.a,Edge:s.a,Port:c.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"port",props:{port:Object,radius:Number}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(74),r=n.n(o);e.default={name:"home",data:function(){return{graphConfig:{nodes:[{id:"input_node",ports:[{id:"input_one",type:"output"},{id:"input_two",type:"output"},{id:"input_three",type:"output"}]},{id:"subprocess_one",ports:[{id:"arg_one",type:"input"},{id:"arg_two",type:"input"},{id:"output",type:"output"}]},{id:"subprocess_two",ports:[{id:"arg_one",type:"input"},{id:"output",type:"output"}]}],edges:[{source:{nodeId:"input_node",portId:"input_one"},target:{nodeId:"subprocess_one",portId:"arg_one"}},{source:{nodeId:"input_node",portId:"input_two"},target:{nodeId:"subprocess_two",portId:"arg_one"}},{source:{nodeId:"subprocess_two",portId:"output"},target:{nodeId:"subprocess_one",portId:"arg_two"}}],options:{nodeWidth:200,nodeHeight:40,portRadius:10,graphPadding:20}},handleConnection:function(t){console.log("connection received:",t)}}},components:{PortGraph:r.a}}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,function(t,e,n){function o(t){n(54)}var r=n(4)(n(24),n(80),o,"data-v-5ded250b",null);t.exports=r.exports},function(t,e,n){function o(t){n(53)}var r=n(4)(n(19),n(79),o,null,null);t.exports=r.exports},function(t,e,n){function o(t){n(52)}var r=n(4)(n(20),n(78),o,null,null);t.exports=r.exports},function(t,e,n){var o=n(4)(n(21),n(77),null,null,null);t.exports=o.exports},function(t,e,n){function o(t){n(51)}var r=n(4)(n(22),n(76),o,null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("circle",{staticClass:"port",class:t.port.type,attrs:{cx:t.port.point.x,cy:t.port.point.y,r:t.radius}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("svg",{attrs:{width:t.layout.graph().width+2*t.padding,height:t.layout.graph().height+2*t.padding}},[n("g",{attrs:{transform:"translate("+t.padding+", "+t.padding+")"}},[t._l(t.nodes,function(t,e){return n("Node",{key:e,attrs:{node:t}})}),t._v(" "),t._l(t.edges,function(t,e){return n("Edge",{key:e,attrs:{edge:t}})}),t._v(" "),t._l(t.ports,function(e,o){return n("Port",{key:o,attrs:{port:e,radius:t.portRadius}})})],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("rect",{staticClass:"node",attrs:{x:t.node.x,y:t.node.y,rx:"5",ry:"5",width:t.node.width,height:t.node.height}}),t._v(" "),n("text",{attrs:{x:t.node.x+t.node.width/2,y:t.node.y+t.node.height/2,"text-anchor":"middle","dominant-baseline":"middle"}},[t._v("\n    "+t._s(t.node.label)+"\n  ")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"edge"},[n("path",{attrs:{d:t.svgPath}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("vue-port-graph")]),t._v(" "),n("h3",[t._v("Graph")]),t._v(" "),n("PortGraph",{attrs:{graphConfig:t.graphConfig,onConnection:t.handleConnection}}),t._v(" "),n("h3",[t._v("Config")]),t._v(" "),n("pre",[t._v(t._s(JSON.stringify(t.graphConfig,null,2).trim()))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}}],[18]);
//# sourceMappingURL=app.903e1772a207d1d3add3.js.map